<section class="relative bg-[#232425] py-0">
  <div class="w-full">
    <figure  class="relative w-full overflow-hidden h-[420px] sm:h-[480px] md:h-[560px] lg:h-[640px]">
      <!-- Imagen -->
      <img
        src="assets/images/hero-melody.png"
        alt="Hero Melody"
        class="absolute inset-0 w-full h-full object-cover object-center"
        width="1600" height="900"
      />
      <div class="absolute inset-0 bg-black/70 z-10"></div>

      <div
        class="pointer-events-none absolute inset-0 z-20"
        style="
          --bg: rgb(35, 36, 37);
          --fade: 28px;
          background:
            linear-gradient(to right,
              var(--bg) 0,
              rgba(0,0,0,0) var(--fade),
              rgba(0,0,0,0) calc(100% - var(--fade)),
              var(--bg) 100%
            ),
            linear-gradient(to bottom,
              var(--bg) 0,
              rgba(0,0,0,0) var(--fade),
              rgba(0,0,0,0) calc(100% - var(--fade)),
              var(--bg) 100%
            );
        ">
      </div>

      <figcaption class="absolute inset-0 z-30 flex items-center justify-center">
        <div class="px-6 text-center">
          <h1 class="text-white text-3xl sm:text-4xl md:text-5xl font-bold leading-tight drop-shadow">
            ‚ÄúSoftware inteligente para un mundo conectado‚Äù
          </h1>
          <p class="mt-3 text-neutral-200 text-base md:text-lg/relaxed max-w-2xl mx-auto">
            Transformamos ideas en productos digitales con IA, chatbots y soluciones a medida.
          </p>

          <!-- Chip opcional con blur -->
          <span
            class="inline-block mt-5 px-4 py-2 rounded-xl text-sm text-white/95 bg-white/10"
            style="backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px);">
            Hablemos de tu proyecto
          </span>
        </div>
      </figcaption>
    </figure>
  </div>
</section>

<section class="relative">
  <div class="mx-auto max-w-7xl p-8 grid grid-cols-1 lg:grid-cols-2 gap-10">

    <!-- ===== LADO IZQUIERDO ===== -->
    <div class="flex flex-col justify-center">
      <p class="text-sm tracking-wide text-neutral-500 uppercase">AI Company ¬∑ Melody</p>

      <!-- ‚úÖ cambia din√°micamente seg√∫n la tarjeta -->
      <ng-container [ngSwitch]="selected">
        <ng-container *ngSwitchCase="0">
          <h1 class="mt-2 text-4xl/tight md:text-5xl/tight font-semibold">F√°brica de software</h1>
          <p class="lede mt-5 text-[#4B2E2B]/80">Construimos apps y plataformas que crecen contigo: web, m√≥vil e internos.</p>
        </ng-container>

        <ng-container *ngSwitchCase="1">
          <h1 class="mt-2 text-4xl/tight md:text-5xl/tight font-semibold">Chatbot B√°sico</h1>
          <p class="lede mt-5 text-[#4B2E2B]/80">Implementa un chatbot sencillo para atenci√≥n r√°pida y preguntas frecuentes.</p>
        </ng-container>

        <ng-container *ngSwitchCase="2">
          <h1 class="mt-2 text-4xl/tight md:text-5xl/tight font-semibold">Chatbot Avanzado</h1>
          <p class="lede mt-5 text-[#4B2E2B]/80">Un chatbot con IA para conversaciones naturales y an√°lisis de interacciones.</p>
        </ng-container>

        <ng-container *ngSwitchCase="3">
          <h1 class="mt-2 text-4xl/tight md:text-5xl/tight font-semibold">Desarrollo Personalizado</h1>
          <p class="lede mt-5 text-[#4B2E2B]/80">Creamos software a medida para optimizar tus procesos y escalar tu negocio.</p>
        </ng-container>
      </ng-container>

      <div
        *ngIf="showTip"

        class="fixed bottom-6 right-6 max-w-xs bg-white shadow-lg rounded-xl border p-4 z-50 flex items-start gap-3"
      >
        <span class="text-2xl">üí°</span>
        <div class="flex-1">
          <p class="text-sm text-neutral-700">
            Haz click en una tarjeta para ver m√°s detalles.
          </p>
        </div>
        <button
          class="ml-2 text-neutral-400 hover:text-black"
          (click)="closeTip()"
        >
          ‚úñ
        </button>
      </div>


      <div class="mt-7 flex flex-wrap gap-3">
        <a routerLink="/services" class="btn-primary">Ver servicios</a>
        <a routerLink="/services#integration" class="btn-secondary">Saber m√°s</a>
      </div>
    </div>

    <!-- ===== LADO DERECHO: TARJETAS ===== -->
    <div #cardsSection class="relative grid grid-cols-2 gap-4">
      <div
        *ngFor="let card of cards; let i = index"
        #bounceBtn
        class="relative aspect-square rounded-2xl overflow-hidden shadow group cursor-pointer card-tilt"
        (mousemove)="onCardMove($event, i)"
        (mouseleave)="onCardLeave($event, i)"
        (click)="expand(i)"
      >
        <img
          [src]="card.src"
          [alt]="card.alt"
          class="absolute inset-0 w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
        />
      </div>
    </div>


  </div>
</section>
